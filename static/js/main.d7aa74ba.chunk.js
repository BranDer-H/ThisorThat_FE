(this.webpackJsonpthisorthat_fe=this.webpackJsonpthisorthat_fe||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a,o,r,c,i,s,l,m,u,d,g,f,b,p=n(0),y=n.n(p),O=n(21),j=n(20),v=n.n(j),x=n(4),E=n(59),h=n.n(E),N=n(25),k=Object(O.b)({key:"userNickName",default:""}),w=Object(O.b)({key:"msgHistory",default:[]}),S=n(17),M=n(18),T=n(114),C=(n(101),n(111)),z=n(113),I=(n(104),M.a.div(a||(a=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 2.5rem;\n"])))),J=M.a.div(o||(o=Object(S.a)(["\n  display: flex;\n  justify-content: flex-end;\n  font-family: 'cookie';\n  font-size: 18px;\n  margin-bottom: 0.5rem;\n"]))),R=M.a.div(r||(r=Object(S.a)(["\n  display: flex;\n  font-family: 'cookie';\n  font-size: 18px;\n  margin-bottom: 0.5rem;\n"]))),D=M.a.div(c||(c=Object(S.a)(["\n  font-size: 13px;\n  font-weight: 600;\n  margin-left: 0.4rem;\n  margin-bottom: 0.2rem;\n"]))),F=M.a.div(i||(i=Object(S.a)(["\n  position: relative;\n  padding: 0.5rem 1rem;\n  margin-left: 1.3rem;\n  background: slategray;\n  border-radius: 10px;\n  &:after {\n    border-top: 10px solid slategray;\n    border-left: 15px solid transparent;\n    border-right: 0px solid transparent;\n    border-bottom: 0px solid transparent;\n    content: '';\n    position: absolute;\n    top: 10px;\n    left: -15px;\n  }\n"]))),H=M.a.div(s||(s=Object(S.a)(["\n  position: relative;\n  padding: 0.5rem 1rem;\n  margin: 0 1.3rem 0 0.8rem;\n  background: slategray;\n  border-radius: 10px;\n  &:after {\n    border-top: 10px solid slategray;\n    border-left: 0px solid transparent;\n    border-right: 15px solid transparent;\n    border-bottom: 0px solid transparent;\n    content: '';\n    position: absolute;\n    top: 10px;\n    right: -15px;\n  }\n"]))),A=M.a.time(l||(l=Object(S.a)(["\n  margin: 1.55rem 0 0 0.5rem;\n  justify-content: center;\n  font-size: 14px;\n  color: steelblue;\n"]))),L=M.a.div(m||(m=Object(S.a)(["\n  color: black;\n  font-family: 'cookie';\n  font-weight: 600;\n  background-color: gainsboro;\n  margin: 1rem auto;\n  padding: 0.8rem;\n  border-radius: 30px;\n"]))),P=Object(M.a)(C.a.Search)(u||(u=Object(S.a)(["\n  & button {\n    background-color: yellow;\n    border: 1px solid yellow;\n    color: black;\n  }\n"]))),B=function(e){var t=e.msgHistory,n=e.message,a=e.onRegisterNewMsg,o=e.setMessage,r=e.userName,c=Object(O.d)(k),i=function(e){var t=new Date(e),n=Number("0".concat(String(t.getHours())).slice(-2)),a="0".concat(String(t.getMinutes())).slice(-2);return n>12?"".concat(n-12," : ").concat(a," pm"):"".concat(n," : ").concat(a," am")};return Object(p.useEffect)((function(){window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"})})),y.a.createElement(y.a.Fragment,null,y.a.createElement(I,null,t.map((function(e){return!0===e.informMsg?e.enterMsg&&y.a.createElement(L,{key:Object(T.a)()},"\ud83d\udc4b ",e.userName," \ub9c8\uc2dc\uba5c\ub85c\uc6b0\uac00 \uaf2c\ucc59\uc774\uc5d0 \ub07c\uc6cc\uc84c\uc2b5\ub2c8\ub2e4.")||y.a.createElement(L,{key:Object(T.a)()},"\ud83d\udc4b ",e.userName," \ub9c8\uc2dc\uba5c\ub85c\uc6b0\uac00 \ub179\uc544 \uc5c6\uc5b4\uc84c\uc2b5\ub2c8\ub2e4."):c!==e.userName&&y.a.createElement(R,{key:Object(T.a)()},y.a.createElement(z.a,{src:"./".concat(e.userName.charCodeAt(0)%7,".jpg"),shape:"square",style:{backgroundColor:"slategray",verticalAlign:"middle",marginTop:"0.3rem",marginLeft:"0.3rem"},size:40,gap:4},e.userName.substr(0,1)),y.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},y.a.createElement(D,null,e.userName),y.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},y.a.createElement(F,null,e.content),y.a.createElement(A,null,i(e.timeStamp)))))||y.a.createElement(J,{key:Object(T.a)()},y.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",flexDirection:"row"}},y.a.createElement(A,null,i(e.timeStamp)),y.a.createElement(H,null,e.content)))}))),y.a.createElement(P,{placeholder:"Input your messages...",value:n,allowClear:!0,autoFocus:!0,size:"large",enterButton:"Send",onChange:function(e){o(e.target.value)},onPressEnter:function(){if(n.length>0){var e=Date.now(),t={enterMsg:!1};t.userName=r,t.content=n,t.timeStamp=e,a(t)}},style:{position:"fixed",bottom:"0"}}))},U=M.a.form(d||(d=Object(S.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),K=M.a.div(g||(g=Object(S.a)(["\n  font-size: 1.5rem;\n  margin: 0.5rem;\n  margin-bottom: 2.5rem;\n  color: silver;\n"]))),V=Object(M.a)(C.a)(f||(f=Object(S.a)(["\n  font-size: 1.5rem;\n  font-weight: 400;\n  text-align: center;\n  width: 100%;\n  color: black;\n  background-color: slategray;\n"]))),_=M.a.input(b||(b=Object(S.a)(["\n  display: none;\n"]))),q=function(e){var t=e.userNickname,n=e.setUserNickname,a=e.onRegisterNickName;return y.a.createElement(U,{onSubmit:a},y.a.createElement(K,null,"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694."),y.a.createElement(V,{value:t,autoFocus:!0,onChange:function(e){return n(e.target.value)}}),y.a.createElement(_,{type:"submit",value:""}))},W=new WebSocket("ws://3.37.234.201:8080/chat"),X=function(e){var t=e.setLoginState,n=Object(O.c)(k),a=Object(x.a)(n,2),o=a[0],r=a[1],c=Object(O.c)(w),i=Object(x.a)(c,2),s=i[0],l=i[1];return W.onmessage=function(e){switch(JSON.parse(e.data).messageType){case"ERROR":t(!1),alert("\uc911\ubcf5\ub41c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4! \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694.");break;case"JOIN":t(!0),l([].concat(Object(N.a)(s),[{informMsg:!0,enterMsg:!0,userName:o,content:"",timeStamp:0}]))}},Object(p.useEffect)((function(){W.onopen=function(){console.log("Connected!")}}),[]),y.a.createElement(q,{userNickname:o,setUserNickname:r,onRegisterNickName:function(e){e.preventDefault(),W.send(JSON.stringify({name:o,messageType:"JOIN",content:"\uc0c8\ub85c\uc6b4 \uc720\uc800\uac00 \ub2c9\ub124\uc784 \uc124\uc815\uc744 \uc2dc\ub3c4\uc911\uc785\ub2c8\ub2e4."}))}})},Y=function(){var e=Object(O.d)(k),t=Object(O.c)(w),n=Object(x.a)(t,2),a=n[0],o=n[1],r=Object(p.useState)(""),c=Object(x.a)(r,2),i=c[0],s=c[1];return Object(p.useEffect)((function(){W.onmessage=function(e){var t=JSON.parse(e.data);switch(t.messageType){case"CHAT":o([].concat(Object(N.a)(a),[{informMsg:!1,enterMsg:!1,userName:t.name,content:t.content,timeStamp:t.timestamp}]));break;case"JOIN":o([].concat(Object(N.a)(a),[{informMsg:!0,enterMsg:!0,userName:t.content,content:"",timeStamp:0}]));break;case"LEAVE":o([].concat(Object(N.a)(a),[{informMsg:!0,enterMsg:!1,userName:t.content,content:"",timeStamp:0}]))}}})),y.a.createElement(B,{msgHistory:a,onRegisterNewMsg:function(e){var t=e;W.send(JSON.stringify({name:t.userName,messageType:"CHAT",content:t.content,timestamp:t.timeStamp})),s("")},message:i,setMessage:s,userName:e})},G=function(){var e=Object(p.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1],o=Object(p.useState)(!1),r=Object(x.a)(o,2),c=r[0],i=r[1];return y.a.createElement("div",{className:"App",style:{width:"100%",overflow:"hidden"}},y.a.createElement(h.a,{url:"http://www.youtube.com/watch?v=NUKKzdVy0EI",playing:!0,loop:!0,controls:!1,muted:!c,width:"100%",height:"100%",onReady:function(){return console.log("video ready")},onStart:function(){console.log("video start"),setTimeout((function(){i(!0)}),2e3)},onPlay:function(){console.log("video play"),setTimeout((function(){i(!0)}),2e3)},onError:function(){return console.log("video error")},style:{transition:"3s ease-in-out",overflow:"hidden",position:"fixed",zIndex:-1,filter:"blur(2px) brightness(".concat(c?.8:0,")")}}),!1===n?y.a.createElement(X,{setLoginState:a}):y.a.createElement(Y,null))},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),r(e),c(e)}))};n(107);v.a.render(y.a.createElement(y.a.StrictMode,null,y.a.createElement(O.a,null,y.a.createElement(G,null))),document.getElementById("root")),Q()},75:function(e,t,n){e.exports=n(108)}},[[75,1,2]]]);
//# sourceMappingURL=main.d7aa74ba.chunk.js.map